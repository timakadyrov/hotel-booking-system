# hotel-booking-system
Система бронирования отеля на python

# Hotel Management System

Система управления бронированием номеров в отеле на Python с использованием SQLite и принципов ООП.

## Описание

Учебный проект, демонстрирующий:
- Наследование (абстрактный класс `Person`)
- Полиморфизм и абстракции (сервисы уведомлений)
- Работу с БД SQLite через прямые запросы
- Обработку исключений (`HotelError`)
- Сохранение состояния в JSON (`hotel_state.json`)
- Модульную структуру с разделением ответственности

## Функциональность

- Управление номерами (добавление, удаление, поиск, список)
- Управление гостями (регистрация, поиск)
- Бронирование номеров:
  - Проверка доступности на выбранные даты
  - Валидация дат (выезд строго после заезда)
  - Автоматическая генерация UUID для бронирований
- Процесс заселения/выселения:
  - Изменение статусов бронирования
  - Обновление занятости комнат
  - Автоматический расчёт стоимости проживания
- Платежи:
  - Создание записи о платеже
  - Генерация `transaction_id`
  - Статусы: `pending`, `completed`, `refunded`
- Уведомления:
  - Email-уведомления (заглушка с выводом в консоль)
  - SMS-уведомления (заглушка)
  - Подтверждение брони, отмена, напоминания
- Экспорт/импорт состояния в JSON-файл
- Демонстрационный сценарий с заполнением тестовыми данными

## Структура проекта
project1/
├── db.py # Работа с SQLite: инициализация и коннектор
├── models.py # Классы Person, Guest, Room, Booking
├── hotel.py # Основной класс Hotel (логика отеля)
├── payment.py # Класс Payment (платежи)
├── notification.py # Абстрактный NotificationService и реализации
├── main.py # Демонстрационный сценарий
├── hotel_state.json # Сохранённое состояние отеля (автогенерация)
└── README.md # Описание проекта


## Установка и запуск

### Требования

- Python 3.8+
- Стандартная библиотека (sqlite3, json, uuid, datetime)

### Запуск демонстрации

```bash
python3 main.py

СКрипт main.py:
- Создаёт БД и таблицы (если нет)
- Добавляет тестовые номера и гостей
- Создаёт несколько бронирований
- Показывает обработку конфликта бронирования
- Имитирует заселение и выселение
- Сохраняет состояние в hotel_state.json

### Примеры использования

```python
from models import Room, Guest
from hotel import Hotel
from datetime import date

# Создание отеля с email-уведомлениями
hotel = Hotel(name="DemoHotel")

# Добавление номера
room = Room("101", "single", 12000.0)
hotel.add_room(room)

# Регистрация гостя
guest = Guest("g1", "Иван Иванов", "ivan@example.com", "+77001112233")
hotel.register_guest(guest)

# Бронирование
booking = hotel.create_booking(
    guest_id="g1",
    room_number="101",
    check_in=date(2025, 12, 5),
    check_out=date(2025, 12, 7)
)
```


## Классы и их роль

| Класс | Описание |
|-------|----------|
| `Person` | Абстрактный класс человека (демонстрация ООП) |
| `Guest` | Модель гостя (наследует `Person`) |
| `Room` | Модель номера (тип, цена, занятость) |
| `Booking` | Модель бронирования (даты, статус, стоимость) |
| `Hotel` | Главный контроллер системы (вся бизнес-логика) |
| `Payment` | Управление платежами |
| `NotificationService` | Абстрактный сервис уведомлений |
| `EmailNotification` | Реализация email-уведомлений (заглушка) |
| `SMSNotification` | Реализация SMS-уведомлений (заглушка) |

